// Reference: https://github.com/DiemenDesign/summernote-image-attributes/blob/master/summernote-image-attributes.js
/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/@activix/summernote-image-attributes@1.0.2/summernote-image-attributes.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
 !function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}((function(t){t.extend(!0,t.summernote.lang,{"en-US":{imageAttributes:{dialogTitle:"Image Attributes",tooltip:"Image Attributes",tabImage:"Image",src:"Source",browse:"Browse",title:"Title",alt:"Alt Text",dimensions:"Dimensions",tabAttributes:"Attributes",class:"Class",style:"Style",role:"Role",tabLink:"Link",linkHref:"URL",linkTarget:"Target",linkTargetInfo:"Options: _self, _blank, _top, _parent",linkClass:"Class",linkStyle:"Style",linkRel:"Rel",linkRelInfo:"Options: alternate, author, bookmark, help, license, next, nofollow, noreferrer, prefetch, prev, search, tag",linkRole:"Role",tabUpload:"Upload",upload:"Upload",tabBrowse:"Browse",editBtn:"OK"}}}),t.extend(t.summernote.options,{imageAttributes:{icon:'<i class="note-icon-pencil"/>',removeEmpty:!0,disableUpload:!1,imageFolder:""}}),t.extend(t.summernote.plugins,{imageAttributes:function(e){var i=this,l=t.summernote.ui,o=e.layoutInfo.note,a=e.layoutInfo.editor,n=e.layoutInfo.editable,r=e.options,s=r.langInfo;if(r.maximumImageFileSize){var g=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),u=1*(r.maximumImageFileSize/Math.pow(1024,g)).toFixed(2)+" "+" KMGTP"[g]+"B";'<small class="help-block note-help-block">'+s.image.maximumFileSize+" : "+u+"</small>"}e.memo("button.imageAttributes",(function(){return l.button({contents:r.imageAttributes.icon,tooltip:s.imageAttributes.tooltip,click:function(){e.invoke("imageAttributes.show")}}).render()})),this.initialize=function(){var e=r.dialogsInBody?t(document.body):a,i=Date.now(),o='<ul class="nav note-nav nav-tabs note-nav-tabs" style="margin-bottom: 10px">  <li class="active"><a href="#note-imageAttributes'+i+'" data-toggle="tab">'+s.imageAttributes.tabImage+'</a></li>  <li><a href="#note-imageAttributes-link'+i+'" data-toggle="tab">'+s.imageAttributes.tabLink+'</a></li></ul><div class="tab-content note-tab-content">  <div class="tab-pane note-tab-pane" id="note-imageAttributes-link'+i+'">    <div class="note-form-group form-group note-group-imageAttributes-link-href">      <label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkHref+'</label>      <div class="input-group note-input-group col-xs-12 col-sm-9">        <input class="note-imageAttributes-link-href form-control note-form-control note-input" type="text">      </div>    </div>    <div class="note-form-group form-group note-group-imageAttributes-link-target">      <label class="control-label note-form-label col-xs-3">'+s.imageAttributes.linkTarget+'</label>      <div class="input-group note-input-group col-xs-12 col-sm-9">        <input class="note-imageAttributes-link-target form-control note-form-control note-input" type="text">      </div>      <small class="help-block note-help-block text-right">'+s.imageAttributes.linkTargetInfo+'</small>    </div>  </div>  <div class="tab-pane note-tab-pane fade in active" id="note-imageAttributes'+i+'">    <div class="note-form-group form-group note-group-imageAttributes-url">      <label class="control-label note-form-label col-sm-3">'+s.imageAttributes.src+'</label>      <div class="input-group note-input-group col-xs-12 col-sm-9">        <input class="note-imageAttributes-src form-control note-form-control note-input" type="text" />      </div>    </div>    <div class="note-form-group form-group note-group-imageAttributes-title">      <label class="control-label note-form-label col-sm-3">'+s.imageAttributes.title+'</label>      <div class="input-group note-input-group col-xs-12 col-sm-9">        <input class="note-imageAttributes-title form-control note-form-control note-input" type="text" />      </div>    </div>    <div class="note-form-group form-group note-group-imageAttributes-alt">      <label class="control-label note-form-label col-sm-3">'+s.imageAttributes.alt+'</label>      <div class="input-group note-input-group col-xs-12 col-sm-9">        <input class="note-imageAttributes-alt form-control note-form-control note-input" type="text" />      </div>    </div>    <div class="note-form-group form-group note-group-imageAttributes-dimensions">      <label class="control-label note-form-label col-sm-3">'+s.imageAttributes.dimensions+'</label>      <div class="input-group note-input-group col-xs-12 col-sm-9">        <input class="note-imageAttributes-width form-control note-form-control note-input" type="text" />        <span class="input-group-addon note-input-group-addon">x</span>        <input class="note-imageAttributes-height form-control note-form-control note-input" type="text" />      </div>    </div>  </div></div>';this.$dialog=l.dialog({title:s.imageAttributes.dialogTitle,body:o,footer:'<button href="#" class="btn btn-primary note-btn note-btn-primary note-imageAttributes-btn">'+s.imageAttributes.editBtn+"</button>"}).render().appendTo(e)},this.destroy=function(){l.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",(function(t){13===t.keyCode&&e.trigger("click")}))},this.bindLabels=function(){i.$dialog.find(".form-control:first").focus().select(),i.$dialog.find("label").on("click",(function(){t(this).parent().find(".form-control:first").focus()}))},this.show=function(){var a=t(n.data("target")),s={imgDom:a,title:a.attr("title"),src:a.attr("src"),alt:a.attr("alt"),width:a.attr("width"),height:a.attr("height"),role:a.attr("role"),class:a.attr("class"),style:a.attr("style"),imgLink:t(a).parent().is("a")?t(a).parent():null};this.showImageAttributesDialog(s).then((function(t){l.hideDialog(i.$dialog);var a=t.imgDom;if(r.imageAttributes.removeEmpty?(t.alt?a.attr("alt",t.alt):a.removeAttr("alt"),t.width?a.attr("width",t.width):a.removeAttr("width"),t.height?a.attr("height",t.height):a.removeAttr("height"),t.title?a.attr("title",t.title):a.removeAttr("title"),t.src?a.attr("src",t.src):a.attr("src","#"),t.class?a.attr("class",t.class):a.removeAttr("class"),t.style?a.attr("style",t.style):a.removeAttr("style"),t.role?a.attr("role",t.role):a.removeAttr("role")):(t.src?a.attr("src",t.src):a.attr("src","#"),a.attr("alt",t.alt),a.attr("width",t.width),a.attr("height",t.height),a.attr("title",t.title),a.attr("class",t.class),a.attr("style",t.style),a.attr("role",t.role)),a.parent().is("a")&&a.unwrap(),t.linkHref){var n="<a";t.linkClass&&(n+=' class="'+t.linkClass+'"'),t.linkStyle&&(n+=' style="'+t.linkStyle+'"'),n+=' href="'+t.linkHref+'" target="'+t.linkTarget+'"',t.linkRel&&(n+=' rel="'+t.linkRel+'"'),t.linkRole&&(n+=' role="'+t.linkRole+'"'),n+="></a>",a.wrap(n)}o.val(e.invoke("code")),o.change()}))},this.showImageAttributesDialog=function(o){return t.Deferred((function(a){var s=i.$dialog.find(".note-imageAttributes-title"),g=i.$dialog.find(".note-imageAttributes-input"),u=i.$dialog.find(".note-imageAttributes-src"),m=i.$dialog.find(".note-imageAttributes-alt"),c=i.$dialog.find(".note-imageAttributes-width"),d=i.$dialog.find(".note-imageAttributes-height"),b=i.$dialog.find(".note-imageAttributes-class"),f=i.$dialog.find(".note-imageAttributes-style"),p=i.$dialog.find(".note-imageAttributes-role"),v=i.$dialog.find(".note-imageAttributes-link-href"),h=i.$dialog.find(".note-imageAttributes-link-target"),k=i.$dialog.find(".note-imageAttributes-link-class"),A=i.$dialog.find(".note-imageAttributes-link-style"),y=i.$dialog.find(".note-imageAttributes-link-rel"),w=i.$dialog.find(".note-imageAttributes-link-role"),x=i.$dialog.find(".note-imageAttributes-btn");v.val(),k.val(),A.val(),w.val(),h.val(),y.val(),o.imgLink&&(v.val(o.imgLink.attr("href")),k.val(o.imgLink.attr("class")),A.val(o.imgLink.attr("style")),w.val(o.imgLink.attr("role")),h.val(o.imgLink.attr("target")),y.val(o.imgLink.attr("rel"))),l.onDialogShown(i.$dialog,(function(){e.triggerEvent("dialog.shown"),g.replaceWith(g.clone().on("change",(function(){var i;r.callbacks.onImageUpload?e.triggerEvent("image.upload",this.files[0]):(i=this.files[0],t.Deferred((function(e){t.extend(new FileReader,{onload:function(t){var i=t.target.result;e.resolve(i)},onerror:function(){e.reject(this)}}).readAsDataURL(i)})).promise()).then((function(t){u.val(t)})).fail((function(){e.triggerEvent("image.upload.error")}))})).val("")),x.click((function(t){t.preventDefault(),a.resolve({imgDom:o.imgDom,title:s.val(),src:u.val(),alt:m.val(),width:c.val(),height:d.val(),class:b.val(),style:f.val(),role:p.val(),linkHref:v.val(),linkTarget:h.val(),linkClass:k.val(),linkStyle:A.val(),linkRel:y.val(),linkRole:w.val()}).then((function(t){e.triggerEvent("change",n.html())}))})),s.val(o.title),u.val(o.src),m.val(o.alt),c.val(o.width),d.val(o.height),b.val(o.class),f.val(o.style),p.val(o.role),i.bindEnterKey(x),i.bindLabels()})),l.onDialogHidden(i.$dialog,(function(){x.off("click"),"pending"===a.state()&&a.reject()})),l.showDialog(i.$dialog)}))}}})}));
 //# sourceMappingURL=/sm/da0bdd17de82db47dfd6baf11a07a941aff97ea3bb5efbc6f3c2713813f7f55e.map
